<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SwiftyTesseract  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="SwiftyTesseract  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SwiftyTesseract Docs
        </a>
         (12% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SwiftyTesseract Reference</a>
      <img class="carat" src="img/carat.png" />
      SwiftyTesseract  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SwiftyTesseract.html">SwiftyTesseract</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/EngineMode.html">EngineMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/RecognitionLanguage.html">RecognitionLanguage</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='swiftytesseract' class='heading'>SwiftyTesseract</h1>

<p><img src="https://img.shields.io/cocoapods/v/SwiftyTesseract.svg" alt="pod-version"> <a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a> <img src="https://img.shields.io/badge/Platform-iOS%209.0%20%2B-lightgrey.svg" alt="platforms"> <img src="https://img.shields.io/badge/Swift-4.2-orange.svg" alt="swift-version"> <a href="https://travis-ci.org/SwiftyTesseract/SwiftyTesseract"><img src="https://travis-ci.org/SwiftyTesseract/SwiftyTesseract.svg?branch=master" alt="Build Status"></a></p>
<h1 id='using-swiftytesseract-in-your-project' class='heading'>Using SwiftyTesseract in Your Project</h1>

<p>Import the module</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SwiftyTesseract</span>
</code></pre>

<p>There are two ways to quickly instantiate SwiftyTesseract without altering the default values. With one language:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">swiftyTesseract</span> <span class="o">=</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">language</span><span class="p">:</span> <span class="o">.</span><span class="n">english</span><span class="p">)</span>
</code></pre>

<p>Or with multiple languages:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">swiftyTesseract</span> <span class="o">=</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">languages</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">english</span><span class="p">,</span> <span class="o">.</span><span class="n">french</span><span class="p">,</span> <span class="o">.</span><span class="n">italian</span><span class="p">])</span>
</code></pre>

<p>To perform OCR, simply pass a <code>UIImage</code> to the <code>performOCR(on:completionHandler:)</code> method and handle the recognized string in the completion handler:</p>
<pre class="highlight swift"><code><span class="k">guard</span> <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"someImageWithText.jpg"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
<span class="n">swiftyTesseract</span><span class="o">.</span><span class="nf">performOCR</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">image</span><span class="p">)</span> <span class="p">{</span> <span class="n">recognizedString</span> <span class="k">in</span>

  <span class="k">guard</span> <span class="k">let</span> <span class="nv">recognizedString</span> <span class="o">=</span> <span class="n">recognizedString</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">recognizedString</span><span class="p">)</span>

<span class="p">}</span>
</code></pre>
<h2 id='a-note-on-initializer-defaults' class='heading'>A Note on Initializer Defaults</h2>

<p>The full signature of the primary <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> initializer is</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">init</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">languages</span><span class="p">:</span> <span class="p">[</span><span class="kt">RecognitionLanguage</span><span class="p">],</span> 
                            <span class="nv">bundle</span><span class="p">:</span> <span class="kt">Bundle</span> <span class="o">=</span> <span class="o">.</span><span class="n">main</span><span class="p">,</span> 
                            <span class="nv">engineMode</span><span class="p">:</span> <span class="kt">EngineMode</span> <span class="o">=</span> <span class="o">.</span><span class="n">lstmOnly</span><span class="p">)</span>
</code></pre>

<p>The bundle parameter is required to locate the <code>tessdata</code> folder. This will only need to be changed if <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> is not being implemented in your primary bundle. The engine mode dictates the type of <code>.traineddata</code> files to put into your <code>tessdata</code> folder. <code>.lstmOnly</code> was chosen as a default due to the higher speed and reliability found during testing, but could potentially vary depending on the language being recognized as well as the image itself. See <a href="#language-data">Which Language Training Data Should You Use?</a> for more information on the different types of <code>.traineddata</code> files that can be used with <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code></p>
<h1 id='installation' class='heading'>Installation</h1>
<h3 id='a-href-https-guides-cocoapods-org-using-using-cocoapods-html-cocoapods-a' class='heading'><a href="https://guides.cocoapods.org/using/using-cocoapods.html">CocoaPods</a></h3>

<p><strong>Tested with <code>pod --version</code>: <code>1.3.1</code></strong></p>
<pre class="highlight ruby"><code><span class="c1"># Podfile</span>
<span class="n">use_frameworks!</span>

<span class="n">target</span> <span class="s1">'YOUR_TARGET_NAME'</span> <span class="k">do</span>
    <span class="n">pod</span> <span class="s1">'SwiftyTesseract'</span><span class="p">,</span>    <span class="s1">'~&gt; 1.0'</span>
<span class="k">end</span>
</code></pre>

<p>Replace <code>YOUR_TARGET_NAME</code> and then, in the <code>Podfile</code> directory, type:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>pod <span class="nb">install</span>
</code></pre>
<h3 id='a-href-https-github-com-carthage-carthage-carthage-a' class='heading'><a href="https://github.com/Carthage/Carthage">Carthage</a></h3>

<p><strong>Tested with <code>carthage version</code>: <code>0.29.0</code></strong></p>

<p>Add this to <code>Cartfile</code></p>
<pre class="highlight plaintext"><code>github "SwiftyTesseract/SwiftyTesseract" ~&gt; 1.0
</code></pre>
<pre class="highlight shell"><code><span class="nv">$ </span>carthage update
</code></pre>
<h2 id='additional-configuration' class='heading'>Additional configuration</h2>

<ol>
<li>Download the appropriate language training files from the <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a>, <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a>, or <a href="https://github.com/tesseract-ocr/tessdata_fast">tessdata_fast</a>  repositories.</li>
<li>Place your language training files into a folder on your computer named <code>tessdata</code></li>
<li>Drag the folder into your project. You <strong>must</strong> enure that <q>Create folder references</q> is selected or <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> will <strong>not</strong> be succesfully instantiated.
<img src="https://lh3.googleusercontent.com/fnzZw7xhM1YsPXhCnt-vG3ASoe6QP0x72uZzdpPdOOd8ApBYRTy05M5-xq6cabO7Th4SyjdFaG1PTSOnBywXujo0UOVbgb5sp1azScHfj1PvvMxWgLePs1NWrstjsAiqgURfYnUJ=w2400" alt="tessdata_folder_example"></li>
</ol>
<h3 id='a-name-language-data-a-which-language-training-data-should-you-use' class='heading'><a name="language-data"></a>Which Language Training Data Should You Use?</h3>

<p>There are three different types of <code>.traineddata</code> files that can be used in <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code>: <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a>, <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a>, or <a href="https://github.com/tesseract-ocr/tessdata_fast">tessdata_fast</a> that correspond to <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> <code><a href="Enums/EngineMode.html">EngineMode</a></code>s <code>.tesseractOnly</code>, <code>.lstmOnly</code>, and <code>.tesseractLstmCombined</code>. <code>.tesseractOnly</code> uses the legacy <a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a> engine and can only use language training files from the <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a> repository. During testing of <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code>, the <code>.tesseractOnly</code> engine mode was found to be the least reliable. <code>.lstmOnly</code> uses a long short-term memory recurrent neural network to perform OCR and can use language training files from either <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a>, <a href="https://github.com/tesseract-ocr/tessdata_fast">tessdata_fast</a>, or <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a> repositories. During testing, <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a> was found to provide the most reliable results at the cost of speed, while <a href="https://github.com/tesseract-ocr/tessdata_fast">tessdata_fast</a> provided results that were comparable to <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a> (when used with <code>.lstmOnly</code>) and faster than both <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a> and <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a>. <code>.tesseractLstmCombined</code> can only use language files from the <a href="https://github.com/tesseract-ocr/tessdata">tessdata</a> repository, and the results and speed seemed to be on par with <a href="https://github.com/tesseract-ocr/tessdata_best">tessdata_best</a>. For most cases, <code>.lstmOnly</code> along with the <a href="https://github.com/tesseract-ocr/tessdata_fast">tessdata_fast</a> language training files will likely be the best option, but this could vary depending on the language and application of <code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> in your project. </p>
<h2 id='custom-trained-data' class='heading'>Custom Trained Data</h2>

<p>SwiftyTesseract 1.1.0 enabled using custom training data. In version 2.0.0 the method in which custom training data is used has changed. The steps required are the same as the instructions provided in <a href="#additional-configuration">additional configuration</a>. To utilize custom <code>.traineddata</code> files, simply use the <code>.custom(String)</code> case of <code><a href="Enums/RecognitionLanguage.html">RecognitionLanguage</a></code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">swiftyTesseract</span> <span class="o">=</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">language</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="s">"custom-traineddata-file-prefix"</span><span class="p">))</span>
</code></pre>

<p>For example, if you wanted to use the MRZ code optimized <code>OCRB.traineddata</code> file provided by <a href="https://github.com/Exteris/tesseract-mrz">Exteris/tesseract-mrz</a>, the instance of SwiftyTesseract would be created like this:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">swiftyTesseract</span> <span class="o">=</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">language</span><span class="p">:</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="s">"OCRB"</span><span class="p">))</span>
</code></pre>

<p>You may also include the first party Tesseract language training files with custom training files:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">swiftyTesseract</span> <span class="o">=</span> <span class="kt">SwiftyTesseract</span><span class="p">(</span><span class="nv">languages</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="s">"OCRB"</span><span class="p">),</span> <span class="o">.</span><span class="n">english</span><span class="p">])</span>
</code></pre>
<h2 id='recognition-results' class='heading'>Recognition Results</h2>

<p>When it comes to OCR, the adage <q>garbage in, garbage out</q> applies. SwiftyTesseract is no different. The underlying <a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a> engine will process the image and return <strong>anything</strong> that it believes is text. For example, giving SwiftyTesseract this image
<img src="https://lh3.googleusercontent.com/xqGYRoK3ZPCUzNu-M-LVnmEpPBwT5QRkwGKd6nGBdCgwfAPeZGH2ctWzRQfVc4DhNoUbDmHHyQYc3iRqwjPWfBCEpIbxJiBj9aqii4XtBR1InHoMbt_jdSHvkNnKgQ7vCdhi1pVn=w2400" alt="raw_unprocessed_image">
yields the following:</p>
<pre class="highlight shell"><code>a lot of jibbersh...
‘o 1 <span class="nv">$ </span>: M |
© 1 3 1<span class="p">;</span> ie oI
LW 2 <span class="o">=</span> o .C P It R &lt;0f
O — £988 <span class="nb">.</span> 18 |
SALE + <span class="nb">.</span> &lt; m m &amp; f f |
7 Abt | | <span class="nb">.</span> 3 I] R I|
3 BE? | is —bB <span class="o">(</span>|
<span class="k">*</span> , § Be x I 3 |
...a lot more jibberish
</code></pre>

<p>You can see that it picked <strong>SALE</strong> out of the picture, but everything else surrounding it was still attempted to be read regardless of orientation. It is up to the individual developer to determine the appropriate way to edit and transform the image to allow SwiftyTesseract to render text in a way that yields predictable results. Originally, SwiftyTesseract was intended to be an out-of-the-box solution, however, the logic that was being added into the project made too many assumptions, nor did it seem right to force any particular implementation onto potential adoptors. <a href="https://github.com/Steven0351/SwiftyTesseractRTE">SwiftyTesseractRTE</a> provides a ready-made solution that can be implemented in a project with a few lines of code that <strong>should</strong> suit most needs and is a better place to start if the goal for your project is to get OCR into an application with little effort.</p>
<h2 id='contributions-welcome' class='heading'>Contributions Welcome</h2>

<p><code><a href="Classes/SwiftyTesseract.html">SwiftyTesseract</a></code> does not currently impelement the full Tesseract API, so if there is functionality that you would like implemented, create an issue and open a pull request! Please see <a href="Contributions.md">Contributing to SwiftyTesseract</a> for the full guidelines on creating issues and opening pull requests to the project.</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>Official documentation for SwiftyTesseract can be found <a href="https://swiftytesseract.github.io/SwiftyTesseract/">here</a></p>
<h2 id='attributions' class='heading'>Attributions</h2>

<p>SwiftyTesseract would not be possible without the work done by the <a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a> team. Special thanks also goes out to <a href="https://github.com/gali8/Tesseract-OCR-iOS">Tesseract-OCR-iOS</a> for the Makefiles that were tweaked to build Tesseract and it&rsquo;s dependencies for use on iOS architectures.</p>

<p>SwiftyTesseract bundles Tesseract and it&rsquo;s dependencies as binaries. The full list of dependencies is as follows:</p>

<ul>
<li><a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a> - License under the <a href="https://github.com/tesseract-ocr/tesseract/blob/master/LICENSE">Apache v2 License</a></li>
<li><a href="http://www.leptonica.org">Leptonica</a> - Licensed under the <a href="http://www.leptonica.org/about-the-license.html">BSD 2-Clause License</a></li>
<li><a href="http://www.libpng.org">libpng</a> - Licensed under the <a href="http://www.libpng.org/pub/png/src/libpng-LICENSE.txt">Libpng License</a></li>
<li><a href="http://libjpeg.sourceforge.net">libjpeg</a> - Licensed under the <a href="http://jpegclub.org/reference/libjpeg-license/">Libjpeg License</a></li>
<li><a href="http://www.libtiff.org">libtiff</a> - Licensed under the <a href="https://fedoraproject.org/wiki/Licensing:Libtiff?rd=Licensing/libtiff">Libtiff License</a></li>
</ul>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="https://github.com/SwiftyTesseract/SwiftyTesseract" target="_blank" rel="external">Steven Sherry</a>. All rights reserved. (Last updated: 2018-09-25)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
